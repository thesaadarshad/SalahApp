<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Beautiful Islamic prayer times app with multi-language support, Hijri date converter, and 99 Names of Allah">
    <meta name="keywords" content="prayer times, salah, namaz, islamic, muslim, adhan, qibla, hijri calendar">
    <meta name="author" content="Salah App">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Salah">
    
    <title>Salah - Islamic Prayer Times</title>
    
    <!-- Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png">
    <link rel="apple-touch-icon" href="/icon-192.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Language Toggle Button -->
    <button id="language-toggle" class="control-btn language-toggle" aria-label="Change language" title="Change language">
    </button>

    <!-- Settings Toggle Button -->
    <button id="settings-toggle" class="control-btn settings-toggle" aria-label="Settings" title="Settings">
    </button>

    <!-- Language Dropdown Menu -->
    <div class="language-dropdown" id="language-dropdown">
        <button class="lang-option" data-lang="en">
            <span class="lang-flag">🇬🇧</span>
            <span class="lang-name">English</span>
        </button>
        <button class="lang-option" data-lang="ar">
            <span class="lang-flag">🇸🇦</span>
            <span class="lang-name">عربي</span>
        </button>
        <button class="lang-option" data-lang="ur">
            <span class="lang-flag">🇵🇰</span>
            <span class="lang-name">اردو</span>
        </button>
        <button class="lang-option" data-lang="tr">
            <span class="lang-flag">🇹🇷</span>
            <span class="lang-name">Türkçe</span>
        </button>
        <button class="lang-option" data-lang="id">
            <span class="lang-flag">🇮🇩</span>
            <span class="lang-name">Indonesia</span>
        </button>
        <button class="lang-option" data-lang="fa">
            <span class="lang-flag">🇮🇷</span>
            <span class="lang-name">فارسی</span>
        </button>
        <button class="lang-option" data-lang="fr">
            <span class="lang-flag">🇫🇷</span>
            <span class="lang-name">Français</span>
        </button>
        <button class="lang-option" data-lang="bn">
            <span class="lang-flag">🇧🇩</span>
            <span class="lang-name">বাংলা</span>
        </button>
        <button class="lang-option" data-lang="hi">
            <span class="lang-flag">🇮🇳</span>
            <span class="lang-name">हिन्दी</span>
        </button>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settings-modal">
        <div class="settings-content">
            <div class="settings-header">
                <h3 class="settings-title" data-i18n="settings">Settings</h3>
                <button class="settings-close" id="settings-close" aria-label="Close settings">×</button>
            </div>
            <div class="settings-body">
                <div class="setting-group">
                    <label class="setting-label" data-i18n="calculationMethod">Calculation Method</label>
                    <p class="setting-description" data-i18n="calculationMethodDesc">Choose the method for prayer time calculations</p>
                    <select id="calculation-method" class="method-dropdown">
                        <option value="3" data-i18n-option="method_mwl">Muslim World League</option>
                        <option value="2" data-i18n-option="method_isna">ISNA (North America)</option>
                        <option value="4" data-i18n-option="method_ummalqura">Umm Al-Qura (Makkah)</option>
                        <option value="5" data-i18n-option="method_egyptian">Egyptian</option>
                        <option value="1" data-i18n-option="method_karachi">University of Karachi</option>
                        <option value="0" data-i18n-option="method_jafari">Jafari (Shia)</option>
                        <option value="7" data-i18n-option="method_tehran">Tehran</option>
                        <option value="8" data-i18n-option="method_gulf">Gulf Region</option>
                        <option value="13" data-i18n-option="method_turkey">Turkey</option>
                        <option value="11" data-i18n-option="method_singapore">Singapore</option>
                        <option value="12" data-i18n-option="method_france">France (UOIF)</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label class="setting-label" data-i18n="asrCalculation">School of Thought</label>
                    <!-- <p class="setting-description" data-i18n="asrCalculationDesc">Choose the juristic method for Asr prayer time</p> -->
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="school" value="0" class="radio-input">
                            <span class="radio-label">
                                <span class="radio-name" data-i18n="schoolShafi">Shafi, Maliki, Hanbali</span>
                            </span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="school" value="1" class="radio-input" checked>
                            <span class="radio-label">
                                <span class="radio-name" data-i18n="schoolHanafi">Hanafi</span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="settings-overlay" id="settings-overlay"></div>

    <!-- Desktop Header Navigation -->
    <header class="header-nav">
        <div class="header-nav-content">
            <h1 class="header-logo">Prayer Times</h1>
            <nav class="header-menu">
                <a href="#" class="header-link active" data-page="prayer-times">
                    <span class="header-icon">🕌</span>
                    <span class="header-text">Prayer Times</span>
                </a>
                <a href="#" class="header-link" data-page="date-converter">
                    <span class="header-icon">📅</span>
                    <span class="header-text">Hijri Converter</span>
                </a>
                <a href="#" class="header-link" data-page="asma-ul-husna">
                    <span class="header-icon">✨</span>
                    <span class="header-text">99 Names</span>
                </a>
            </nav>
        </div>
    </header>

    <!-- Mobile Navigation Toggle -->
    <button class="nav-toggle mobile-only" id="nav-toggle" aria-label="Toggle navigation menu" title="Open menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>

    <!-- Mobile Navigation Drawer -->
    <nav class="nav-drawer mobile-only" id="nav-drawer">
        <div class="nav-header">
            <h2 class="nav-title">Prayer Times</h2>
            <button class="nav-close" id="nav-close" aria-label="Close menu">✕</button>
        </div>
        <ul class="nav-menu">
            <li class="nav-item active">
                <a href="#" class="nav-link" data-page="prayer-times">
                    <span class="nav-icon">🕌</span>
                    <span class="nav-text">Prayer Times</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-page="date-converter">
                    <span class="nav-icon">📅</span>
                    <span class="nav-text">Hijri Converter</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-page="asma-ul-husna">
                    <span class="nav-icon">✨</span>
                    <span class="nav-text">99 Names of Allah</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Navigation Overlay -->
    <div class="nav-overlay mobile-only" id="nav-overlay"></div>

    <div class="container" id="prayer-times-page">
        <!-- Loading State -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Detecting your location...</p>
        </div>

        <!-- Error State -->
        <div id="error" class="error hidden">
            <div class="error-icon">⚠️</div>
            <h2>Unable to load prayer times</h2>
            <p id="error-message"></p>
            <button onclick="location.reload()" class="retry-btn">Try Again</button>
        </div>

        <!-- Location Modal -->
        <div id="location-modal" class="location-modal hidden">
            <div class="location-modal-content">
                <h3>Change Location</h3>
                <p>Enter your city name and country to get accurate prayer times.</p>
                <div class="location-input-group">
                    <label for="city-input">City Name</label>
                    <input type="text" id="city-input" class="location-input" placeholder="e.g., Karachi">
                </div>
                <div class="location-input-group">
                    <label for="country-input">Country</label>
                    <input type="text" id="country-input" class="location-input" placeholder="e.g., Pakistan">
                </div>
                <div class="location-modal-actions">
                    <button class="modal-btn modal-btn-cancel" id="cancel-location-btn">Cancel</button>
                    <button class="modal-btn modal-btn-submit" id="submit-location-btn">Update Location</button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div id="main-content" class="main-content hidden">
            <!-- Date Header -->
            <div class="date-header">
                <div class="date-display">
                    <span id="gregorian-date-header"></span>
                    <span class="date-separator-header">•</span>
                    <span id="hijri-date-header"></span>
                </div>
            </div>

            <!-- Next Prayer Countdown -->
            <div class="next-prayer-section">
                <div class="location">
                    <div class="location-display">
                        <span id="location-name">Loading...</span>
                    </div>
                    <div class="location-actions">
                        <button class="location-action-btn change-location-btn" id="change-location-btn" title="Change location manually">
                            Change
                        </button>
                        <button class="location-action-btn update-location-btn" id="update-location-btn" title="Use my current location">
                            Update
                        </button>
                    </div>
                </div>
                
                <div class="countdown-wrapper">
                    <p class="next-prayer-label">Time until</p>
                    <div class="prayer-name-wrapper">
                        <span class="prayer-ornament left">❲</span>
                        <h1 class="next-prayer-name" id="next-prayer-name">—</h1>
                        <span class="prayer-ornament right">❳</span>
                    </div>
                    <div class="countdown" id="countdown">
                        <div class="time-unit">
                            <span class="time-value" id="hours">00</span>
                            <span class="time-label">hours</span>
                        </div>
                        <span class="time-separator">:</span>
                        <div class="time-unit">
                            <span class="time-value" id="minutes">00</span>
                            <span class="time-label">minutes</span>
                        </div>
                        <span class="time-separator">:</span>
                        <div class="time-unit">
                            <span class="time-value" id="seconds">00</span>
                            <span class="time-label">seconds</span>
                        </div>
                    </div>
                    <p class="settings-indicator" id="settings-indicator">
                        <span class="settings-pretext" data-i18n="basedOn">Based on:</span> 
                        <span id="current-method">ISNA</span> • <span id="current-school">Hanafi</span> 
                        <a href="#" class="settings-change-link" id="settings-change-link" data-i18n="change">change</a>
                    </p>
                </div>
            </div>

            <!-- Divider -->
            <div class="divider"></div>

            <!-- All Prayer Times -->
            <div class="prayer-times-section">
                <div class="section-header">
                    <h2 class="section-title">Today's Prayer Times</h2>
                    
                    <!-- Optional Prayers Toggle -->
                    <label class="optional-toggle">
                        <input type="checkbox" id="optional-prayers-toggle" class="optional-toggle-input">
                        <span class="optional-toggle-slider"></span>
                        <span class="optional-toggle-label">Show Optional Times</span>
                    </label>
                </div>
                
                <div class="prayer-times-grid" id="prayer-times-grid">
                    <!-- Prayer times will be inserted here -->
                </div>
            </div>

            <!-- Footer -->
            <div class="footer">
                <div class="footer-links">
                    <a href="#" id="nearby-mosque-link" target="_blank" rel="noopener noreferrer" class="mosque-link">
                        🕌 Find Nearby Mosque
                    </a>
                </div>
                <p class="footer-credit">Data provided by <a href="https://aladhan.com" target="_blank">AlAdhan API</a></p>
            </div>
        </div>
    </div>

    <!-- Date Converter Page -->
    <div class="container" id="date-converter-page" style="display: none;">
            <div class="date-converter-container">
                <h2 class="page-title">Islamic Date Converter</h2>
                <p class="page-subtitle">Convert between Gregorian and Hijri calendars</p>

                <!-- Conversion Direction Toggle -->
                <div class="conversion-toggle">
                    <button class="conversion-btn active" data-direction="gregorian-to-hijri">
                        <span class="conversion-label">Gregorian → Hijri</span>
                    </button>
                    <button class="conversion-btn" data-direction="hijri-to-gregorian">
                        <span class="conversion-label">Hijri → Gregorian</span>
                    </button>
                </div>

                <!-- Gregorian to Hijri Converter -->
                <div id="gregorian-to-hijri" class="converter-section">
                    <div class="date-input-group">
                        <label class="input-label">Enter Gregorian Date</label>
                        <input type="date" id="gregorian-date-input" class="date-input" />
                    </div>
                    
                    <button class="convert-btn" id="convert-to-hijri-btn">
                        <span>Convert to Hijri</span>
                        <span class="btn-arrow">→</span>
                    </button>

                    <div id="hijri-result" class="result-card hidden">
                        <div class="result-icon">🌙</div>
                        <div class="result-content">
                            <p class="result-label">Hijri Date</p>
                            <h3 class="result-date" id="hijri-date-display"></h3>
                            <p class="result-details" id="hijri-date-details"></p>
                        </div>
                    </div>
                </div>

                <!-- Hijri to Gregorian Converter -->
                <div id="hijri-to-gregorian" class="converter-section hidden">
                    <div class="date-input-group">
                        <label class="input-label">Enter Hijri Date</label>
                        <div class="hijri-inputs">
                            <input type="number" id="hijri-day" class="hijri-input" placeholder="Day" min="1" max="30" />
                            <input type="number" id="hijri-month" class="hijri-input" placeholder="Month" min="1" max="12" />
                            <input type="number" id="hijri-year" class="hijri-input" placeholder="Year" min="1" max="9999" />
                        </div>
                    </div>
                    
                    <button class="convert-btn" id="convert-to-gregorian-btn">
                        <span>Convert to Gregorian</span>
                        <span class="btn-arrow">→</span>
                    </button>

                    <div id="gregorian-result" class="result-card hidden">
                        <div class="result-icon">📅</div>
                        <div class="result-content">
                            <p class="result-label">Gregorian Date</p>
                            <h3 class="result-date" id="gregorian-date-display"></h3>
                            <p class="result-details" id="gregorian-date-details"></p>
                        </div>
                    </div>
                </div>

                <!-- Quick Info -->
                <div class="today-info">
                    <h4 class="info-title">Today's Date</h4>
                    <div class="info-dates">
                        <div class="info-date">
                            <span class="info-icon">📅</span>
                            <span id="today-gregorian">—</span>
                        </div>
                        <div class="info-date">
                            <span class="info-icon">🌙</span>
                            <span id="today-hijri">—</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 99 Names Page -->
    <div class="container" id="asma-ul-husna-page" style="display: none;">
        <div class="names-container">
            <div class="names-header">
                <h2 class="page-title">Asma ul Husna</h2>
                <p class="page-subtitle">The 99 Beautiful Names of Allah</p>
            </div>

            <!-- Loading State -->
            <div id="names-loading" class="names-loading">
                <div class="spinner"></div>
                <p>Loading names...</p>
            </div>

            <!-- Names Grid -->
            <div id="names-grid" class="names-grid" style="display: none;">
                <!-- Names will be inserted here -->
            </div>
        </div>
    </div>

    <script src="app.js?version=1.0.0"></script>
</body>
</html>

